# Changelog

All notable changes will be documented here according to the rules in `.cursor/rules/main.mdc`.

## [2025-11-20]
- Added project scaffolding: folder hierarchy, placeholder configs, documentation, and CI stub in alignment with `docs/architecture.md`.
- Captured initial README and process guidance referencing Context7 best practices for React and Tauri setups.
- Installed npm dependencies, generated `pnpm-lock.yaml`, added initial Vitest suite, and documented verification steps in `docs/testing.md`.
- Authored `main_plan_build.md`, a Context7-aligned build orchestration plan covering sequencing, tests, and documentation requirements for every stage.
- Delivered Stage 2 (Accounts & Transactions): `SqliteTransactionService`, new Tauri commands (`list_accounts`, `list_transactions`, etc.), React Transactions page (TanStack Table + Radix Dialog), optimistic mutations, and supporting store/hooks/schemas.
- Added `docs/transactions.md`, expanded `docs/architecture.md`/`docs/testing.md`, and refreshed `README.md` with the new workflow.
- Delivered Stage 3 (Dashboard & KPIs): `SqliteDashboardService` + `get_dashboard_snapshot`, responsive Dashboard page (KPI cards, quick actions, command palette & hotkeys, weekly spend chart, account highlights, offline badge), React Router shell, dashboard-specific Vitest/Rust coverage, and updated documentation (`docs/architecture.md`, `docs/testing.md`, `main_plan_build.md`, `README.md`, `src/features/dashboard/README.md`).
- Delivered Stage 4 (Budget Engine): `SqliteBudgetService` + budget CRUD commands (`list_budgets`, `create_budget`, `update_budget`, `delete_budget`, `record_snapshot`), Budgets UI page (envelope grid, progress rings with color-coded status indicators, inline edit/delete), alert threshold detection (Normal/At Risk/Over), seed script updates for starter budgets, unit tests for progress calculation and status helpers, and updated documentation (`docs/architecture.md`, `docs/testing.md`, `main_plan_build.md`, `src/features/budgets/README.md`).
- Delivered Stage 5 (Goals & Savings): `SqliteGoalService` + goal CRUD commands (`list_goals`, `create_goal`, `update_goal`, `update_goal_status`, `add_contribution`, `delete_goal`), Goals UI page (Kanban board with status columns, progress bars, inline status changes), projection calculations with target dates, auto-achievement when targets reached, seed script updates for starter goals, unit tests for projection and status helpers, and updated documentation (`docs/architecture.md`, `docs/testing.md`, `main_plan_build.md`, `src/features/goals/README.md`).
- Delivered Stage 6 (Reminders & Notifications): `SqliteReminderService` + reminder CRUD commands (`list_reminders`, `create_reminder`, `update_reminder`, `delete_reminder`, `snooze_reminder`, `get_due_reminders`, `mark_reminder_sent`), Reminders UI page (status-filtered sections, ReminderCard with actions, ReminderForm), NotificationCenter drawer with keyboard shortcut (`Ctrl+Shift+N`), simplified RRULE parsing (DAILY, WEEKLY, MONTHLY), snooze logic with next_fire_at calculation, audit logging to ReminderLog, seed script updates for starter reminders, unit tests for date formatting and status helpers, and updated documentation (`docs/architecture.md`, `docs/testing.md`, `main_plan_build.md`, `src/features/reminders/README.md`).

## [2025-11-21]
- Added `advanced_features_plan.md`: comprehensive implementation blueprint for 7 advanced features (A1-A7) including Advanced Category System, Smart Finance Insights, Predictive Finance Engine, OCR Receipt Scanner, Financial Scenario Simulator, Monthly Planner System, and Gamification Layer. Document includes entry/exit criteria, implementation checklists, test requirements, documentation deliverables, and cross-feature considerations following the structure and style of `main_plan_build.md`.
- Completed Stage 6 (Reminders & Notifications) enhancements: integrated background scheduler worker (`ReminderScheduler`) polling reminder table every 60 seconds via `tauri::async_runtime`, added Windows toast notifications using `@tauri-apps/plugin-notification` with event handler for `notification:prepared` in frontend (`App.tsx`), registered notification plugin in Rust (`main.rs`), added notification permissions to capabilities. Note: Windows toast actions (Pay/Snooze/Open buttons) and deep link handling require additional integration with Windows Toast API via `winrt` crate for full native Windows toast functionality - planned for future enhancement.

## [2025-01-20]
- Started Stage 7 (Reports & Analytics) Sub-stage 1: Implemented Reports UI with ECharts visualizations. Created Reports feature structure (`schema.ts`, `api.ts`, `hooks.ts`, `utils.ts`), built `ReportsPage` component with month selector and chart grid (pie chart for spending by category, bar charts for income/expenses and budget progress, line chart for 12-month trend), created reusable `Chart` component wrapper for ECharts, added summary cards and forecast display, integrated React Query hooks with automatic cache invalidation on transaction changes, added routing and navigation in `App.tsx`, updated `src/features/reports/README.md` with comprehensive documentation. Note: `ReportService` was already implemented in previous stages.
- Completed Stage 7 (Reports & Analytics) Sub-stage 2: Implemented export pipeline with Tauri commands (`export_report_csv`, `export_report_json`, `export_report_encrypted_json`, `export_chart_png`), created `ExportButton` component with dropdown menu for format selection, added chart instance refs for PNG export from ECharts, optimized database queries with indexes on `Transaction` (user_id, type, occurred_on) and `ReportCache` (user_id, expires_at, expires_at), created unit tests for report utilities (`tests/unit/reports/utils.test.ts`), updated documentation (`docs/architecture.md` Section 3.3 and 3.8, `docs/testing.md` Section 4, `scripts/export-import/README.md`), updated `main_plan_build.md` with completion status. Export formats: CSV (spending by category), JSON (full monthly reports), encrypted JSON (base64-encoded with checksum), PNG (high-resolution chart images). Note: PDF export and import functionality planned for future enhancement.

